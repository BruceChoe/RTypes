<template name="viewVisualization">
  {{> headerBar }}
  <div class="container-fluid"  style="height:100%">
    <div class="row"  style="height:100%">
      {{> sidebar }}

      {{#if canView visualizationId}}
        {{#if loggedIn}}
          <h1>{{ getData visualizationId "name" }}</h1>
          <h2>Author: {{ getData visualizationId "createdBy" }}</h2>
          <p>{{ getData visualizationId "description" }}</p>

          <div class="col-9" id="imagePane">
          {{#each img in getData visualizationId "images" }}
            {{> visualizationImageBox img=img }}
          {{/each}}

          {{> downloadVisualization visualizationId}}
          {{> shareVisualization visualizationId}}
          </div>
        {{else}}
          <div class="col-md-9">
            <br><br>
            <h4>You must be logged in to view your visualizations.</h4>
          </div>
        {{/if}}
      {{else}}
        <div class="col-md-9">
          <br><br>
          <h4>You are not allowed to view this visualization.</h4>
        </div>
      {{/if}}
    </div>
  </div>
</template>

<template name="visualizationImageBox">
  <img src="{{ img }}" class="img-fluid">
</template>

<template name="shareVisualization">
  <button id="shareButton">Share</button>
  <input type="email" id="emailField">
  <div id="emailFeedback"></div>
</template>