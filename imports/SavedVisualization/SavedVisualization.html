<!-- Index page of saved and shared visualizations -->

<template name="savedVisualization">
  {{> headerBar }}
  <div class="container-fluid"  style="height:100%">
    <div class="row"  style="height:100%">
      {{> sidebar }}
      {{#if loggedIn}}
        <div class="col px-4">
          <div class="row mt-3">
            <h1 class="col display-4">Saved Visualizations</h1>
            <div class="w-100"></div>
            {{#each b in savedVisualizations }}
              <div class="col-4">
                <a href="{{pathFor 'view' _index=b.createdAt}}" class="d-flex align-items-center flex-column m-4 lead">
                  <img class="img-fluid" src="{{ b.image }}">
                  <div>{{ b.name }}</div>
                </a>
              </div>
            {{else}}
            <div class="col-4 lead text-muted">
              <em>No saved visualizations.</em>
            </div>
            {{/each}}
            <div class="w-100"></div>
            <h1 class="col display-4 mt-3">Shared with Me</h1>
            <div class="w-100"></div>
            {{#each b in sharedVisualizations}}
              <div class="col-4">
                <a href="{{pathFor 'view' _index=b.createdAt}}" class="d-flex align-items-center flex-column m-4 lead">
                  <img class="img-fluid" src="{{ b.image }}">
                  <div class="d-flex flex-row align-items-center">{{ b.name }}</div>
                  <div class="d-flex flex-row align-items-center">Shared by: {{ b.createdBy }}</div>
                </a>
              </div>
            {{else}}
              <div class="col-4 lead text-muted">
                <em>No shared visualizations.</em>
              </div>
            {{/each}}
          </div>
        </div>
      {{else}}
        <div class="col-md-9">
          <div style="font-size: 1.5rem" class="mt-3">You must be logged in to view your visualizations.</div>
        </div>
      {{/if}}
    </div>
  </div>
</template>